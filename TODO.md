# TODO

- [x] Implement a more robust state machine for game state transitions.
- [x] Refactor `core/game.py` to reduce the number of branches in the `run` method.
- [x] Ensure all functions in `core/game.py` have consistent return statements.
- [x] Change the permanent boosts in the shop to be percentage-based (e.g., +5% damage and +10% HP). Make them more expensive, with each upgrade costing more XP, similar to a leveling system. Allow players to buy them multiple times as long as they can afford it.